{% extends "base.html" %}
{% load gravatar i18n static %}

{% block "scripts" %}<script type="text/javascript" src="{% static "dnstorm/js/htmldiff.js" %}"></script>{% endblock %}

{% block "bodyclass" %}problem-revisions{% endblock %}

{% block "content" %}

    <div class="row detail-title">
    <div class="columns content large-12">
        <h3>{% trans "Revisions for" %} {% trans "problem" %} <a href="{% url "problem" problem.slug %}">#{{ problem.id }}</a></h3>
    </div>
    </div>

    <div class="row">
    <div class="columns large-9 revisions">

        <hr/>

        {% for revision in revisions %}
            <div class="revision" id="revision-{{ revision.id }}">

                <div class="row">
                <div class="columns large-12">
                    <div class="raw">{{ revision.raw|safe }}</div>
                    <div class="diff"></div>
                </div>
                </div>

                <div class="row">
                <div class="columns large-5 large-offset-7">
                    <div class="user-box alignright">
                        <div class="row collapse">
                        <div class="columns large-10">
                            <a class="contributed" href="{{ request.get_full_path }}#revision-{{ revision.id }}">{% trans "edited" %} {{ revision.modified|date:"d b Y" }} {% trans "at" %} {{ revision.modified|date:"H:i" }}</a><br/>
                            <a class="username" href="{% url "user" revision.user.username %}">{{ revision.user.username }}</a>
                        </div>
                        <div class="columns large-2">
                            <a class="avatar"><img src="{% gravatar_for_user revision.user 32 %}" /></a>
                        </div>
                        </div>
                    </div>
                </div>
                </div>

            </div>
            <hr/>
        {% endfor %}

        <hr/>

    </div>
    <div class="columns sidebar large-3">
        {% include "problem_sidebar.html" %}
    </div>
    </div>


{% endblock %}
