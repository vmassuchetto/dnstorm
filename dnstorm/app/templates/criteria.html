{% extends "base.html" %}
{% load crispy_forms_tags i18n humanize %}

{% block title %}Problem criterias{% endblock %}

{% block bodyclass %}criteria{% endblock %}

{% block topright %}
    {% if perms.criteria.can_add %}
        <a class="button tiny success radius problem-new-button" href="{% url 'criteria_new' %}">
            <i class="foundicon-page"></i> {% trans 'Create new criteria' %}
        </a>
    {% endif %}
{% endblock %}

{% block content %}

    <div class="row">
    <div class="columns large-12">
        {% if criterias %}

            {% for criteria in criterias %}

                <div class="row collapse list-item criteria-list-item">
                    <div class="columns large-1 medium-1 show-for-medium-up">
                        <div class="counter left">
                            <span class="number">{{ criteria.problem_count }}</span>
                            <span class="description">{% if criteria.problem_count > 1 or criteria.problem_count = 0 %}{% trans "problems" %}{% else %}{% trans "problem" %}{% endif %}</span>
                        </div>
                    </div>

                    <div class="columns large-11 medium-11 small-12 criteria-info">
                        <h4><a href="{% url "criteria" criteria.slug %}">{{ criteria.name }}</a></h4>
                        {% if criteria.parent %}
                            <p class="left no-margin-bottom">{% include "criteria_button.html" with criteria=criteria.parent %}</p>
                        {% endif %}
                        <h6 class="subheader right">{{ problem.modified|naturaltime }}</h6>
                        <span class="label secondary radius right"><a href="{% url "criteria_edit" criteria.slug %}">{% trans "Edit" %}</a></span>
                    </div>
                </div>

            {% endfor %}

            {% include "pagination.html" with items=criterias %}

        {% endif %}
    </div>
    </div>

{% endblock %}
