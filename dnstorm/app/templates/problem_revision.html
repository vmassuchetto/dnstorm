{% extends "base_revision.html" %}
{% load i18n static %}

{% block bodyclass %}problem-revision{% endblock %}

{% block title" %}<h3>{% trans "Revisions for the problem %} <a href="{% url "problem" problem.slug %}">#{{ problem.id }}</a></h3>{% endblock %}

{% block content %}

    {% url "problem" problem.slug as problem_url %}

    <div class="row">

    <div class="columns large-9">

    <h3>{% blocktrans with problem.id as problem_id %}Revisions for the problem <a href="{{ problem_url }}">#{{ problem_id }}</a>{% endblocktrans %}</h3>

    {% for r in revisions %}

        <hr/>

        {% url "problem_revision_item" problem.id r.id as revision_url %}

        <div class="revision" id="revision-{{ r.id }}">

            {% if r.detail %}
                <div class="detail html-diff">
                    {{ r.detail|safe }}
                </div>
            {% endif %}

            {% if r.criteria %}
                <h5>{% trans "Criterias" %}</h5>
                {% for criteria in r.criteria %}
                    {% include "criteria_button.html" %}
                {% endfor %}
            {% endif %}

            <div class="row">
                <div class="columns large-5 large-offset-7">
                    {% include "user_box.html" with user=r.author date=r.modified link=revision_url %}
                </div>
            </div>

        </div>

    {% endfor %}
    </div>

    <div class="columns large-3">
        {% include "problem_sidebar.html" %}
    </div>

    </div>

{% endblock %}

