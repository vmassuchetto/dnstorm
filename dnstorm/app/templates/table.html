{% load crispy_forms_tags i18n %}

<div class="row collapse" id="problem-table-row">

<div class="columns large-12">
<table class="problem-table{% if criterias %} with-criterias{% endif %}" data-problem="{{ problem.id }}">

    <thead>
    <tr>
    <th>{% trans "Alternative" %}</th>
    <th>{% trans "Vote" %}</th>
    {% if problem_perm_manage %}<th></th>{% endif %}
    <th>{% trans "Ideas" %}</th>
    {% for criteria in criterias %}
        <th class="criteria text-center" data-criteria="{{ criteria.id }}">
            <div class="title-inner title-admin">
                {% include "criteria_button.html" %}
            </div>
            </div>
        </th>
    {% endfor %}
    {% if problem_perm_manage %}<th></th>{% endif %}
    </tr>
    </thead>

    <tbody>

    {% for alternative in alternatives %}
        {% include "alternative.html" %}
    {% endfor %}

    </tbody>
</table>
<br/>
</div>

{% if problem_perm_manage %}
    <div class="columns large-12">
    <a class="button radius new-alternative tiny"><i class="fi-plus"></i>&nbsp;{% trans "Add a new alternative" %}</a>
    <a class="button radius secondary tiny table-help-show"><i class="fi-info"></i>&nbsp;{% trans "Need some help?" %}</a>
    <div class="table-help panel radius secondary">
    <ul>
        <li>{% blocktrans %}To start building the table click on "Add alternative"{% endblocktrans %}</li>
        <li>{% blocktrans with icon="<i class='fi-plus'></i>" %}To put ideas into alternatives click on the {{ icon }} icon{% endblocktrans %}</li>
        <li>{% blocktrans with icon="<i class='fi-x'></i>" %}To delete alternatives click on the {{ icon }} icon{% endblocktrans %}</li>
        {% url "problem_edit" problem.slug as problem_url %}
        <li>{% blocktrans with url=problem_url %}<a href="{{ url }}">Edit the problem</a> to create more criterias{% endblocktrans %}</li>
    </ul>
    </div>
    </div>
{% endif %}
<hr/>
</div>
